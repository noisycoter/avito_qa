# Баг-репорт

**Host:** `https://qa-internship.avito.com`

## Баг 1: Некорректный код ответа при запросе несуществующего объявления/статистики

| Поле | Значение |
| :--- | :--- |
| **Краткое описание** | При запросе объявления или статистики по несуществующему ID сервис возвращает код **400 Bad Request** вместо ожидаемого **404 Not Found**. |
| **Ручки API** | `GET /api/1/item/:id`, `GET /api/1/statistic/:id` |
| **Шаги воспроизведения** | 1. Отправить GET-запрос на `/api/1/item/{non_existent_id}`. 2. Отправить GET-запрос на `/api/1/statistic/{non_existent_id}`. |
| **Ожидаемый результат** | Код ответа **404 Not Found** для обеих ручек, так как ресурс не найден. |
| **Фактический результат** | Код ответа **400 Bad Request** для обеих ручек. |
| **Важность** | Средняя (нарушение REST-принципов и затруднение отладки). |

## Баг 2: Отсутствие поля `createdAt` в данных объявления, возвращаемых фикстурой `create_ad`

| Поле | Значение |
| :--- | :--- |
| **Краткое описание** | В данных объявления, которые возвращает фикстура `create_ad` (имитируя ответ сервера), отсутствует поле `createdAt`, хотя оно ожидается в тесте `test_post_001_successful_creation`. |
| **Ручки API** | `POST /api/1/item` (проблема в фикстуре, основанной на неполном анализе ответа) |
| **Шаги воспроизведения** | 1. Запустить тест `test_post_001_successful_creation`. |
| **Ожидаемый результат** | Тест проходит, поле `createdAt` присутствует в данных. |
| **Фактический результат** | Тест падает с `AssertionError: assert 'createdAt' in ad_data`. |
| **Важность** | Низкая (проблема в тестовом коде, но указывает на потенциальную неполноту данных в фикстуре). |

## Баг 3: Некорректная структура ответа для `GET /api/1/item/:id`

| Поле | Значение |
| :--- | :--- |
| **Краткое описание** | Ручка `GET /api/1/item/:id` возвращает массив (list) вместо ожидаемого объекта (dict) с данными объявления. |
| **Ручки API** | `GET /api/1/item/:id` |
| **Шаги воспроизведения** | 1. Создать объявление. 2. Отправить GET-запрос на `/api/1/item/{id}`. |
| **Ожидаемый результат** | Тело ответа — объект JSON с данными объявления. |
| **Фактический результат** | Тело ответа — массив JSON, что приводит к ошибке `TypeError: list indices must be integers or slices, not str` при попытке доступа к полям как к словарю. |
| **Важность** | Высокая (нарушение контракта API, неработоспособность ручки). |

# Тест-кейсы 

**Host:** `https://qa-internship.avito.com`
**SellerID для тестирования:** `573482` (уникальный ID в диапазоне 111111-999999)

## 1. Создать объявление (POST /api/1/item)

| ID | Название тест-кейса | Шаги | Ожидаемый результат |
| :--- | :--- | :--- | :--- |
| **POST-001** | **Успешное создание объявления** | 1. Отправить POST-запрос с валидными данными: `sellerID=573482`, `name="Test Ad 1"`, `price=1000`, `statistics={"likes": 10, "viewCount": 50, "contacts": 5}`. | 1. Код ответа **200 OK**. 2. Тело ответа содержит уникальный `id` (string), `sellerId` (равный 573482), `name`, `price`, `statistics` и `createdAt`. |
| **POST-002** | Создание второго объявления для того же продавца | 1. Отправить POST-запрос с валидными данными: `sellerID=573482`, `name="Test Ad 2"`, `price=2000`, `statistics={"likes": 0, "viewCount": 0, "contacts": 0}`. | 1. Код ответа **200 OK**. 2. Тело ответа содержит новый уникальный `id`. |
| **POST-003** | Невалидный `sellerID` (строка вместо числа) | 1. Отправить POST-запрос с `sellerID="invalid"`. | 1. Код ответа **400 Bad Request**. 2. Тело ответа содержит сообщение об ошибке валидации. |
| **POST-004** | Отсутствие обязательного поля (`name`) | 1. Отправить POST-запрос без поля `name`. | 1. Код ответа **400 Bad Request**. 2. Тело ответа содержит сообщение об ошибке валидации. |
| **POST-005** | Невалидный тип данных для `price` (строка) | 1. Отправить POST-запрос с `price="ten"`. | 1. Код ответа **400 Bad Request**. 2. Тело ответа содержит сообщение об ошибке валидации. |

## 2. Получить объявление по его идентификатору (GET /api/1/item/:id)

| ID | Название тест-кейса | Шаги | Ожидаемый результат |
| :--- | :--- | :--- | :--- |
| **GET-ID-001** | **Успешное получение существующего объявления** | 1. Создать объявление (POST-001) и получить его `id`. 2. Отправить GET-запрос на `/api/1/item/{id}`. | 1. Код ответа **200 OK**. 2. Тело ответа содержит данные созданного объявления, включая `sellerId=573482`. |
| **GET-ID-002** | Получение несуществующего объявления | 1. Отправить GET-запрос с заведомо несуществующим `id` (например, "nonExistentID123"). | 1. Код ответа **404 Not Found**. 2. Тело ответа соответствует ожидаемой структуре ошибки 404. |
| **GET-ID-003** | Невалидный формат `id` (если формат ID строго типизирован) | 1. Отправить GET-запрос с невалидным форматом `id` (например, "!!!"). | 1. Код ответа **400 Bad Request** или **404 Not Found** (зависит от реализации). Ожидаем 400, если есть валидация формата. |

## 3. Получить все объявления по идентификатору продавца (GET /api/1/:sellerID/item)

| ID | Название тест-кейса | Шаги | Ожидаемый результат |
| :--- | :--- | :--- | :--- |
| **GET-SELLER-001** | **Успешное получение всех объявлений продавца** | 1. Создать два объявления для `sellerID=573482` (POST-001, POST-002). 2. Отправить GET-запрос на `/api/1/573482/item`. | 1. Код ответа **200 OK**. 2. Тело ответа — массив, содержащий ровно 2 объекта объявления. 3. Все объявления в массиве имеют `sellerId=573482`. |
| **GET-SELLER-002** | Получение объявлений для продавца без объявлений | 1. Выбрать новый, заведомо уникальный `sellerID` (например, 999999). 2. Отправить GET-запрос на `/api/1/999999/item`. | 1. Код ответа **200 OK**. 2. Тело ответа — пустой массив `[]`. |
| **GET-SELLER-003** | Невалидный `sellerID` (строка вместо числа) | 1. Отправить GET-запрос с `sellerID="invalid"`. | 1. Код ответа **400 Bad Request**. 2. Тело ответа содержит сообщение об ошибке валидации. |

## 4. Получить статистику по айтем id (GET /api/1/statistic/:id)

| ID | Название тест-кейса | Шаги | Ожидаемый результат |
| :--- | :--- | :--- | :--- |
| **GET-STATS-001** | **Успешное получение статистики по существующему объявлению** | 1. Создать объявление (POST-001) с известной статистикой. 2. Отправить GET-запрос на `/api/1/statistic/{id}`. | 1. Код ответа **200 OK**. 2. Тело ответа — массив, содержащий объект статистики, который соответствует данным, переданным при создании (например, `likes=10`, `viewCount=50`, `contacts=5`). |
| **GET-STATS-002** | Получение статистики для несуществующего объявления | 1. Отправить GET-запрос с заведомо несуществующим `id` (например, "nonExistentID123"). | 1. Код ответа **404 Not Found**. 2. Тело ответа соответствует ожидаемой структуре ошибки 404. |
| **GET-STATS-003** | Проверка структуры статистики | 1. Создать объявление. 2. Получить статистику. | 1. Код ответа **200 OK**. 2. Тело ответа содержит поля `likes`, `viewCount`, `contacts` с целочисленными значениями. |
